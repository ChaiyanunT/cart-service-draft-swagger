openapi: 3.0.3
info:
  title: Cart Service Draft Api Spec - OpenAPI 3.0
  version: 1.0.0
externalDocs:
  description: Cart Service draft spec swagger
  url: http://swagger.io
servers:
  - url: "https://proxy.qa.nocnoc-internal.com/cart-service"
paths:
  /v1/user/cart:
  # TODO add create/update/delete cart
    get:
      summary: Get Cart
      tags:
        - Cart
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-id
          in: header
          description: Required in guest mode
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: "#/components/schemas/cartReponseModel"

        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"

        "401":
          description: Unauthorize
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
  /v1/user/cart/summary:
    post:
      summary: get cart summary data
      tags:
        - Cart
      parameters:
       - name: x-nocnoc-device-id
         in: header
         description: device id generate from FE
         schema:
          type: string
       - name: x-nocnoc-id
         in: header
         required: true
         description: nocnoc-id decrypt by local authorizer
         schema:
          type: string
      requestBody:
        content:
          'application/json':
            schema:
              type: object
              properties:
                couponCodes:
                  type: array
                  items:
                    type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                required: ['data', 'meta']
                properties:
                  data:
                    type: object
                    required: ['totalPrice', 'grandTotal']
                    properties:
                      coupons:
                        type: array
                        items:
                          type: object
                          required:
                            - limitApplies
                            - type
                            - status
                            - promotionId
                          properties:
                            promotionId:
                              type: number
                              example: 1234
                            couponCode:
                              type: string
                              example: NN1234
                            limitApplies:
                              type: number
                              example: 1
                            type:
                              type: string
                              example: seller
                              enum:
                                - seller
                                - platform
                                - voucher
                                - partner
                            status:
                              type: string
                              example: VALID
                              description: waiting confirm enum with promotion
                              enum:
                                - VALID
                                - NOTFOUND
                                - ORDER_VALUE_NOT_REACH_MINIMUM
                            message:
                              type: string
                              example: รหัสไม่ถูกต้อง
                        
                      totalPrice: 
                        type: number
                        format: double
                        example: 56300.0
                      totalShopCouponDiscount:
                        type: number
                        format: double
                        example: 350
                      totalPlatformDiscount:
                        type: number
                        format: double
                        example: 5630.0
                      totalPartnerCouponDiscount:
                        type: number
                        description: future discount
                        format: double
                        example: 500.5
                      totalDiscount:
                        type: number
                        format: double
                        example: 6980
                      totalPriceAfterDiscount:
                        type: number
                        format: double
                        example: 50320
                      grandTotalDiscount:
                        type: number
                        format: double
                        example: 7300
                      grandTotal:
                        type: number
                        format: double
                        example: 35000.6
                      currency:
                        type: string
                        example: ฿
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
          
        '401':
          description: Unauthorize
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
  /v1/promotions/best-coupon:
    post:
      summary: Get Compatible Promotions (Cart)
      tags:
        - Cart Promotion
      parameters:
        - name: x-nocnoc-device-id
          in: header
          description: device id generate from FE
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: not required and default to en
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        content:
          "application/json":
            schema:
              type: object
              properties:
                couponCodes:
                  type: array
                  items:
                    type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      totalAppliedCount:
                        type: number
                        example: 3
                  data:
                    type: object
                    properties:
                      coupons:
                        type: array
                        items:
                          type: object
                          required: ["key", "limitApplies"]
                          properties:
                            key:
                              type: string
                              example: "seller"
                              enum:
                                - seller
                                - platform
                                - partner
                                - voucher
                            limitApplies:
                              type: integer
                              example: 1
                            items:
                              type: array
                              items:
                                type: object
                                required:
                                  [
                                    "id",
                                    "title",
                                    "selected",
                                    "discount",
                                    "discountType",
                                    "startedAt",
                                    "endedAt",
                                  ]
                                properties:
                                  id:
                                    type: number
                                    example: 1245
                                  title:
                                    type: string
                                    example: summer sale
                                  couponCode:
                                    type: string
                                    example: "NN-12345"
                                  maxAllowedDiscount:
                                    type: number
                                    example: 5000
                                  discount:
                                    type: number
                                    format: double
                                    example: 5
                                  discountType:
                                    type: string
                                    example: PERCENT
                                    enum:
                                      - PERCENT
                                      - FLAT
                                  condition:
                                    type: string
                                    description: "TBC locale logic should in bff or be"
                                    example: "เมื่อช้อปครบ ฿3,000, ลดสูงสุด ฿1,500"
                                  description:
                                    type: string
                                    example: "คูปองนี้มีจำนวนจำกัด"
                                    description: field promotionDetails จาก promotion-service
                                  imageUrl:
                                    type: string
                                    example: "http://nocnoc.com"
                                  selected:
                                    type: boolean
                                    example: true
                                  startedAt:
                                    type: string
                                    example: "2024-04-01T12:00:00Z"
                                  endedAt:
                                    type: string
                                    example: "2024-04-01T12:00:00Z"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"

        "401":
          description: Unauthorize
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
  /v1/promotions/validation:
    post:
      tags:
       - Cart Promotion
      summary: Validate list of Promotions (Cart)
      parameters:
       - name: x-nocnoc-device-id
         in: header
         description: device id generate from FE
         schema:
          type: string
       - name: x-nocnoc-id
         in: header
         required: true
         description: nocnoc-id decrypt by local authorizer
         schema:
          type: string
      requestBody:
        content:
          'application/json':
            schema:
              type: object
              properties:
                couponCodes:
                  type: array
                  items:
                    type: string
                paymentMethod:
                  type: object
                  description: TBD with platform about response from payment-ui
                  properties:
                    maskedCard:
                      type: string
                      example: 1234-56XX-XXXX-1234
                    isInstallment:
                      type: boolean
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      totalAppliedCount:
                        type: number
                        example: 3
                  data:
                    type: object
                    required: ["coupons"]
                    properties:
                      coupons:
                        type: array
                        items:
                          $ref: '#/components/schemas/coupons'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
          
        '401':
          description: Unauthorize
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
  /v1/user/quotation:
    post:
      tags:
        - Quotation
      summary: Create Quotation
      description: ""
      operationId: Create Quotation
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              required:
                - sellers
                - addressId
              type: object
              properties:
                addressId:
                  type: integer
                  example: 1
                couponCodes:
                  type: array
                  items:
                    type: string
                    example: "1234"
                sellers:
                  type: array
                  items:
                    type: object
                    required:
                      - sellerId
                      - products
                      - couponCodes
                    properties:
                      sellerId:
                        type: string
                        example: 123
                      products:
                        type: array
                        items:
                          type: object
                          required:
                            - skuNumber
                            - quantity
                          properties:
                            skuNumber:
                              type: string
                              example: "123456"
                            title:
                              type: string
                              example: "tv 42 inch"
                            quantity:
                              type: integer
                              example: 10
      responses:
        "200":
          description: products with delivery options
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/baseQuotationResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
    put:
      tags:
        - Quotation
      summary: Update Quotation
      description: ""
      operationId: Update Quotation
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - quotationSignature
                - quotationData
              properties:
                quotationSignature:
                  type: string
                  example: hmac
                quotationData:
                  type: string
                  example: base64
                addressId:
                  type: number
                  example: 11150
                sellers:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 0
                      saleOrders:
                        type: array
                        items:
                          type: object
                          properties:
                            defaultDeliveryOption:
                              type: object
                              properties:
                                carrierId:
                                  type: integer
                                  example: 0
                            saleOrderRef:
                              type: string
                              example: "string"
                invalidProducts:
                  type: array
                  items:
                    type: object
                    properties:
                      skuNumber:
                        type: string
                        example: 123
                      quantity:
                        type: number
                        example: 5
                      sellerId:
                        type: number
                        example: 1234
                        required:
                          - skuNumber
                          - quantity
                          - sellerId
      responses:
        "200":
          description: products with delivery options
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/baseQuotationResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
  /v1/user/quotations/promotions/best-coupon:
    post:
      summary: Get Compatible Promotions of quotation
      tags:
        - Quotation Promotion
      parameters:
       - name: x-nocnoc-device-id
         in: header
         description: device id generate from FE
         schema:
          type: string
       - name: Accept-Language
         in: header
         description: not required and default to en
         schema:
          type: string
       - name: x-nocnoc-id
         in: header
         required: true
         description: nocnoc-id decrypt by local authorizer
         schema:
          type: string
      requestBody:
        content:
          'application/json':
            schema:
              type: object
              required:
                - quotationSignature
                - quotationData
              properties:
                quotationSignature:
                    type: string
                    example: hmac
                quotationData:
                    type: string
                    example: BASE64
                couponCodes:
                  type: array
                  items:
                    type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      totalAppliedCount:
                        type: number
                        example: 3
                  data:
                    type: object
                    properties:
                      coupons:
                        type: array
                        items:
                          $ref: '#/components/schemas/coupons'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
          
        '401':
          description: Unauthorize
        '404':
          description: Not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
  /v1/user/quotation/promotion/validation:
    post:
      summary: Validate list of coupon code with quotation data
      tags:
        - Quotation Promotion
      parameters:
        - name: x-nocnoc-platform
          in: header
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          schema:
            type: string
        - name: x-cookie-id
          in: header
          schema:
            type: string
        - name: x-session-id
          in: header
          schema:
            type: string
        - name: x-nocnoc-device-id
          in: header
          description: device id generate from FE
          schema:
            type: string
        - name: x-request-id
          in: header
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/baseQuotationRequest"
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      totalAppliedCount:
                        type: number
                        example: 3
                  data:
                    type: object
                    required: ["coupons"]
                    properties:
                      coupons:
                        type: array
                        items:
                          $ref: "#/components/schemas/coupons"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"

        "401":
          description: Unauthorize
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
  /v1/user/quotation/ipp/validation:
    post:
      tags:
        - Quotation Promotion
      summary: Validate IPP Promotion
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string 
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string 
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string 
        - name: Authorization
          in: header
          description: Token From Login
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - quotationSignature
                - quotationData
              properties:
                quotationSignature:
                  type: string
                  example: hmac
                quotationData:
                  type: string
                  example: BASE64
                couponCodes:
                  type: array
                  items: 
                    type: string
                  example: [""]
                useNocnocPoint:
                  type: boolean
                  example: true
      responses:
        '200':
          description: validate coupon and credit card
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - canInstallment
                    properties:
                      quotationSignature:
                        type: string
                        example: hmac
                      quotationData:
                        type: string
                        example: BASE64
                      canInstallment:
                        type: boolean
                        example: true
                      ippDescriptions:
                        type: array
                        items:
                          $ref: "#/components/schemas/ippDescription"
                      ippSuggestion:
                        description: "This field exists when user's order not eligible for IPP"
                        type: object
                        properties:
                          cause:
                            type: string
                            enum: ["min_amount_not_reach", "more_than_1_sku"]
                          subsidizer:
                            type: string
                            enum: ["platform", "seller"]
                          activePromotionId:
                            type: number
                          ippOptionId:
                            type: number
                          minAmount:
                            type: number
              examples:
                UserEligible:
                  value:
                    data:
                      quotationSignature: hmac
                      quotationData: BASE64
                      canInstallment: true
                      ippDescriptions: [
                        {
                          id: 1,
                          term: 3,
                          rate: 0,
                          nocnocSub: true,
                          sellerSub: true,
                          title: "3 เดือน 0%",
                          minAmount: 20000
                        },
                        {
                          id: 2,
                          term: 6,
                          rate: 0,
                          nocnocSub: true,
                          sellerSub: true,
                          title: "6 เดือน 0%",
                          minAmount: 20000
                        },
                        {
                          id: 3,
                          term: 10,
                          rate: 0,
                          nocnocSub: true,
                          sellerSub: true,
                          title: "10 เดือน 0%",
                          minAmount: 20000
                        }
                      ]
                      ippSuggestion: null
                UserNotEligiblePlatformMinAmount:
                  value:
                    data:
                      quotationSignature: hmac
                      quotationData: BASE64
                      canInstallment: true
                      ippDescriptions: [
                        {
                          id: 1,
                          term: 3,
                          rate: 0,
                          nocnocSub: true,
                          sellerSub: true,
                          title: "3 เดือน 0%",
                          minAmount: 20000
                        },
                        {
                          id: 2,
                          term: 6,
                          rate: 0,
                          nocnocSub: true,
                          sellerSub: true,
                          title: "6 เดือน 0%",
                          minAmount: 20000
                        },
                        {
                          id: 3,
                          term: 10,
                          rate: 0,
                          nocnocSub: true,
                          sellerSub: true,
                          title: "10 เดือน 0%",
                          minAmount: 20000
                        }
                      ]
                      ippSuggestion: {
                        cause: "min_amount_not_reach",
                        subsidizer: "platform",
                        activePromotionId: 1234,
                        ippOptionId: 1,
                        minAmount: 20000
                      }
                UserNotEligibleSellerMinAmount:
                  value:
                    data:
                      quotationSignature: hmac
                      quotationData: BASE64
                      canInstallment: true
                      ippDescriptions: [
                        {
                          id: 1,
                          term: 3,
                          rate: 0,
                          nocnocSub: true,
                          sellerSub: true,
                          title: "3 เดือน 0%",
                          minAmount: 20000
                        },
                        {
                          id: 2,
                          term: 6,
                          rate: 0,
                          nocnocSub: true,
                          sellerSub: true,
                          title: "6 เดือน 0%",
                          minAmount: 20000
                        },
                        {
                          id: 3,
                          term: 10,
                          rate: 0,
                          nocnocSub: true,
                          sellerSub: true,
                          title: "10 เดือน 0%",
                          minAmount: 20000
                        }
                      ]
                      ippSuggestion: {
                        cause: "min_amount_not_reach",
                        subsidizer: "seller",
                        activePromotionId: 4321,
                        ippOptionId: 4,
                        minAmount: 50000
                      }
                UserNotEligibleSellerMoreThan1Sku:
                  value:
                    data:
                      quotationSignature: hmac
                      quotationData: BASE64
                      canInstallment: true
                      ippDescriptions: [
                        {
                          id: 1,
                          term: 3,
                          rate: 0,
                          nocnocSub: true,
                          sellerSub: true,
                          title: "3 เดือน 0%",
                          minAmount: 20000
                        },
                        {
                          id: 2,
                          term: 6,
                          rate: 0,
                          nocnocSub: true,
                          sellerSub: true,
                          title: "6 เดือน 0%",
                          minAmount: 20000
                        },
                        {
                          id: 3,
                          term: 10,
                          rate: 0,
                          nocnocSub: true,
                          sellerSub: true,
                          title: "10 เดือน 0%",
                          minAmount: 20000
                        }
                      ]
                      ippSuggestion: {
                        cause: "more_than_1_sku",
                        subsidizer: "seller",
                        activePromotionId: 4321,
                        ippOptionId: 4,
                        minAmount: 50000
                      }
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorResponse'
  /v1/user/quotation/summary:
    post:
      tags:
        - Quotation
      parameters:
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: not required and default to en
          schema:
            type: string
        - name: x-nocnoc-platform
          in: header
          required: false
          description: nocnoc-platform (when = "app" will get loyalty point)
          schema:
            type: string
          example: "web"
      summary: Calculate price and discount
      description: Calculate price and discount for both product and shipping
      operationId: quotationSummary
      requestBody:
        description: Sum the final quotation
        content:
          application/json:
            schema:
              type: object
              required:
                - quotationSignature
                - quotationData
                - sellers
              properties:
                quotationSignature:
                  type: string
                  example: <hmac>
                quotationData:
                  type: string
                  example: <base64>
                couponCodes:
                  type: array
                  items:
                    type: string
                  example: [""]
                sellers:
                  type: array
                  items:
                    type: object
                    required:
                      - id
                      - saleOrders
                    properties:
                      id:
                        type: number
                      saleOrders:
                        type: array
                        items:
                          type: object
                          required:
                            - saleOrderRef
                            - defaultDeliveryOption
                          properties:
                            saleOrderRef:
                              type: string
                            defaultDeliveryOption:
                              type: object
                              required:
                                - carrierId
                              properties:
                                carrierId:
                                  type: number
                                  example: 12
                useNocnocPoint:
                  type: boolean
                  example: true
                # payment:
                #   type: object
                #   description: waiting confirm with platform team
                #   properties:
                #     paymentType:
                #       type: string
                #       example: ""
                #     cardData:
                #       type: object
                #       example: {}
                #     bankCode:
                #       type: string
                #       example: ""
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                required: ["data"]
                properties:
                  data:
                    type: object
                    required:
                      [
                        "appliedPromotions",
                        "totalPrice",
                        "totalDiscount",
                        "totalPriceAfterDiscount",
                        "totalShippingFee",
                        "totalShippingFeeAfterDiscount",
                        "grandTotalDiscount",
                        "grandTotal",
                      ]
                    properties:
                      quotationData:
                        type: string
                        example: "<base64>"
                      quotationSignature:
                        type: string
                        example: "<hmac>"
                      coupons:
                        type: array
                        items:
                          properties:
                            promotionId:
                              type: number
                              example: 12345678
                            couponCode:
                              type: string
                              example: "NN1234"
                            limitApplies:
                              type: number
                              example: 1
                            type:
                              type: string
                              example: "NOCNOC_COUPON"
                            status:
                              type: string
                              enum:
                                [VALID, NOTFOUND, ORDER_VALUE_NOT_REACH_MINIMUM]
                              example: "VALID"
                      nocnocPoint:
                        type: object
                        properties:
                          availablePoint:
                            type: number
                            example: 0
                          isNocNocClubMember:
                            type: boolean
                            example: true
                          pointBalance:
                            type: number
                            example: 0
                          pointValue:
                            type: number
                            example: 0
                      totalPrice:
                        type: number
                        example: 56300
                      totalShopCouponDiscount:
                        type: number
                        example: 350
                      totalPlatformDiscount:
                        type: number
                        example: 5630
                        description: "total discount from platform coupon (depreciated, use totalPlatformCouponDiscount instead)"
                      totalPlatformCouponDiscount:
                        type: number
                        example: 5630
                        description: "total discount from platform coupon"
                      totalPartnerCouponDiscount:
                        type: number
                        example: 0
                      totalVoucherDiscount:
                        type: number
                        example: 1000
                      totalDiscount:
                        type: number
                        example: 6980
                      totalNocnocPointDiscount:
                        type: number
                        example: 40
                      totalPriceAfterDiscount:
                        type: number
                        example: 50320
                      totalShippingFee:
                        type: number
                        example: 1770
                      totalSellerShippingDiscount:
                        type: number
                        example: 10
                      totalPlatformShippingDiscount:
                        type: number
                        example: 270
                      totalShippingFeeAfterDiscount:
                        type: number
                        example: 280
                      grandTotalDiscount:
                        type: number
                        example: 7300
                      grandTotal:
                        type: number
                        example: 50770
                      currency:
                        type: string
                        example: ฿
        "400":
          description: Invalid input
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                InvalidParameter:
                  summary: invalid parameter
                  value:
                    errors:
                      title: "invalid_parameter"
                      detail: "Invalid carrierId, please check request body"
                InvalidSignature:
                  summary: invalid signature
                  value:
                    errors:
                      title: "invalid_signature"
                      detail: "Invalid quotationSignature, plase check request body"
                InvalidDeliveryOption:
                  summary: invalid delivery option
                  value:
                    errors:
                      title: "invalid_delivery_option"
                      detail: "delivery option not found"
                InvalidQuotationData:
                  summary: invalid quotation data
                  value:
                    errors:
                      title: "invalid_quotation_data"
                      detail: "Cannot decode quotationData, plase check request body"
        "401":
          description: Unauthorize
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ExternalServerError:
                  summary: Internal server error
                  value:
                    errors:
                      title: "internal_server_error"
                      detail: "Something wrong, or {{some error message}}"
                UnknownPromotionBusinessType:
                  summary: Unknown promotion business type
                  value:
                    errors:
                      title: "unknown_promotion_business_type"
                      detail: "Unknown promotion business type"
        "502":
          description: External Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ExternalServerError:
                  summary: External server error
                  value:
                    errors:
                      title: "external_server_error"
                      detail: "[Promotion] Get seller promotion sku pricing has error"
  /v1/admin/quotation:
    post:
      tags:
        - Admin Quotation
      summary: for admin create Quotation on behalf of user
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              required:
                - sellers
                - addressId
                - buyerUserId
              type: object
              properties:
                addressId:
                  type: integer
                  example: 1
                couponCodes:
                  type: array
                  items:
                    type: string
                    example: "1234"
                sellers:
                  type: array
                  items:
                    type: object
                    required:
                      - sellerId
                      - products
                      - couponCodes
                    properties:
                      sellerId:
                        type: string
                        example: 123
                      products:
                        type: array
                        items:
                          type: object
                          required:
                            - skuNumber
                            - quantity
                          properties:
                            skuNumber:
                              type: string
                              example: "123456"
                            title:
                              type: string
                              example: "tv 42 inch"
                            quantity:
                              type: integer
                              example: 10
                buyerUserId:
                  type: integer
                  example: 5678
      responses:
        "200":
          description: Admin Create Quotation Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/baseQuotationResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
    put:
      tags:
        - Admin Quotation
      summary: Admin use for update quotation data on behalf of user
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - quotationSignature
                - quotationData
                - buyerUserId
              properties:
                quotationSignature:
                  type: string
                  example: hmac
                quotationData:
                  type: string
                  example: base64
                addressId:
                  type: number
                  example: 11150
                sellers:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 0
                      saleOrders:
                        type: array
                        items:
                          type: object
                          properties:
                            defaultDeliveryOption:
                              type: object
                              properties:
                                carrierId:
                                  type: integer
                                  example: 0
                            saleOrderRef:
                              type: string
                              example: "string"
                invalidProducts:
                  type: array
                  items:
                    type: object
                    properties:
                      skuNumber:
                        type: string
                        example: 123
                      quantity:
                        type: number
                        example: 5
                      sellerId:
                        type: number
                        example: 1234
                        required:
                          - skuNumber
                          - quantity
                          - sellerId
                buyerUserId:
                  type: integer
                  example: 5678
      responses:
        "200":
          description: update quotation success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/baseQuotationResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
  /v1/admin/quotation/ipp/validation:
    post:
      tags:
        - Admin Quotation
      summary: for Validate IPP Validation
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              required:
                - quotationSignature
                - quotationData
                - buyerUserId
              type: object
              properties:
                quotationSignature:
                  type: string
                  example: hmac
                quotationData:
                  type: string
                  example: BASE64
                couponCodes:
                  type: array
                  items:
                    type: string
                  example: [""]
                useNocnocPoint:
                  type: boolean
                  example: true
                buyerUserId:
                  type: integer
                  example: 5678
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - canInstallment
                      - quotationSignature
                      - quotationData
                    properties:
                      quotationSignature:
                        type: string
                        example: "<quotationSignature>"
                      quotationData:
                        type: string
                        example: "BASE64"
                      canInstallment:
                        type: boolean
                        example: true
                      ippDescriptions:
                        type: array
                        items:
                          $ref: "#/components/schemas/ippDescription"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
  /v1/admin/quotation/promotion/best-coupon:
    post:
      tags:
        - Admin Quotation
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              required:
                - buyerUserId
              allOf:
                - $ref: "#/components/schemas/baseQuotationRequest"
              properties:
                couponCodes:
                  type: array
                  items:
                    type: string
                buyerUserId:
                  type: integer
                  example: 5678
      responses:
        "200":
          description: "success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      totalAppliedCount:
                        type: number
                        example: 3
                  data:
                    type: object
                    required: ["coupons"]
                    properties:
                      coupons:
                        type: array
                        items:
                          $ref: "#/components/schemas/coupons"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
  /v1/admin/quotation/promotion/validation:
    post:
      tags:
        - Admin Quotation
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              required:
                - buyerUserId
              allOf:
                - $ref: "#/components/schemas/baseQuotationRequest"
              properties:
                couponCodes:
                  type: array
                  items:
                    type: string
                buyerUserId:
                  type: integer
                  example: 5678
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      totalAppliedCount:
                        type: number
                        example: 3
                  data:
                    type: object
                    required: ["coupons"]
                    properties:
                      coupons:
                        type: array
                        items:
                          $ref: "#/components/schemas/coupons"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
  /v1/admin/quotation/summary:
    post:
      tags:
        - Admin Quotation
      parameters:
        
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: not required and default to en
          schema:
            type: string
        - name: x-nocnoc-platform
          in: header
          required: false
          description: nocnoc-platform (when = "app" will get loyalty point)
          schema:
            type: string
          example: "web"
      requestBody:
        description: Sum the final quotation
        content:
          application/json:
            schema:
              type: object
              required:
                - quotationSignature
                - quotationData
                - sellers
                - buyerUserId
              properties:
                quotationSignature:
                  type: string
                  example: <hmac>
                quotationData:
                  type: string
                  example: <base64>
                couponCodes:
                  type: array
                  items:
                    type: string
                  example: [""]
                sellers:
                  type: array
                  items:
                    type: object
                    required:
                      - id
                      - saleOrders
                    properties:
                      id:
                        type: number
                      saleOrders:
                        type: array
                        items:
                          type: object
                          required:
                            - saleOrderRef
                            - defaultDeliveryOption
                          properties:
                            saleOrderRef:
                              type: string
                            defaultDeliveryOption:
                              type: object
                              required:
                                - carrierId
                              properties:
                                carrierId:
                                  type: number
                                  example: 12
                useNocnocPoint:
                  type: boolean
                  example: true
                buyerUserId:
                  type: integer
                  example: 5678
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                required: ["data"]
                properties:
                  data:
                    type: object
                    required:
                      [
                        "appliedPromotions",
                        "totalPrice",
                        "totalDiscount",
                        "totalPriceAfterDiscount",
                        "totalShippingFee",
                        "totalShippingFeeAfterDiscount",
                        "grandTotalDiscount",
                        "grandTotal",
                      ]
                    properties:
                      quotationData:
                        type: string
                        example: "<base64>"
                      quotationSignature:
                        type: string
                        example: "<hmac>"
                      coupons:
                        type: array
                        items:
                          properties:
                            promotionId:
                              type: number
                              example: 12345678
                            couponCode:
                              type: string
                              example: "NN1234"
                            limitApplies:
                              type: number
                              example: 1
                            type:
                              type: string
                              example: "NOCNOC_COUPON"
                            status:
                              type: string
                              enum:
                                [VALID, NOTFOUND, ORDER_VALUE_NOT_REACH_MINIMUM]
                              example: "VALID"
                      nocnocPoint:
                        type: object
                        properties:
                          availablePoint:
                            type: number
                            example: 0
                          isNocNocClubMember:
                            type: boolean
                            example: true
                          pointBalance:
                            type: number
                            example: 0
                          pointValue:
                            type: number
                            example: 0
                      totalPrice:
                        type: number
                        example: 56300
                      totalShopCouponDiscount:
                        type: number
                        example: 350
                      totalPlatformDiscount:
                        type: number
                        example: 5630
                        description: "total discount from platform coupon (depreciated, use totalPlatformCouponDiscount instead)"
                      totalPlatformCouponDiscount:
                        type: number
                        example: 5630
                        description: "total discount from platform coupon"
                      totalPartnerCouponDiscount:
                        type: number
                        example: 0
                      totalVoucherDiscount:
                        type: number
                        example: 1000
                      totalDiscount:
                        type: number
                        example: 6980
                      totalNocnocPointDiscount:
                        type: number
                        example: 40
                      totalPriceAfterDiscount:
                        type: number
                        example: 50320
                      totalShippingFee:
                        type: number
                        example: 1770
                      totalSellerShippingDiscount:
                        type: number
                        example: 10
                      totalPlatformShippingDiscount:
                        type: number
                        example: 270
                      totalShippingFeeAfterDiscount:
                        type: number
                        example: 280
                      grandTotalDiscount:
                        type: number
                        example: 7300
                      grandTotal:
                        type: number
                        example: 50770
                      currency:
                        type: string
                        example: ฿
        "400":
          description: Invalid input
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                InvalidParameter:
                  summary: invalid parameter
                  value:
                    errors:
                      title: "invalid_parameter"
                      detail: "Invalid carrierId, please check request body"
                InvalidSignature:
                  summary: invalid signature
                  value:
                    errors:
                      title: "invalid_signature"
                      detail: "Invalid quotationSignature, plase check request body"
                InvalidDeliveryOption:
                  summary: invalid delivery option
                  value:
                    errors:
                      title: "invalid_delivery_option"
                      detail: "delivery option not found"
                InvalidQuotationData:
                  summary: invalid quotation data
                  value:
                    errors:
                      title: "invalid_quotation_data"
                      detail: "Cannot decode quotationData, plase check request body"
        "401":
          description: Unauthorize
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ExternalServerError:
                  summary: Internal server error
                  value:
                    errors:
                      title: "internal_server_error"
                      detail: "Something wrong, or {{some error message}}"
                UnknownPromotionBusinessType:
                  summary: Unknown promotion business type
                  value:
                    errors:
                      title: "unknown_promotion_business_type"
                      detail: "Unknown promotion business type"
        "502":
          description: External Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ExternalServerError:
                  summary: External server error
                  value:
                    errors:
                      title: "external_server_error"
                      detail: "[Promotion] Get seller promotion sku pricing has error"
  /v1/user/orders:
    post:
      summary: Create order
      tags:
        - Order
      parameters:
        - description: x-nocnoc-platform
          in: header
          name: x-nocnoc-platform
          schema:
            type: string
        - description: x-nocnoc-device-os
          in: header
          name: x-nocnoc-device-os
          schema:
            type: string
        - description: Not Required when x-nocnoc-platform is web
          in: header
          name: x-nocnoc-cookie-id
          schema:
            type: string
        - description: Not Required when x-nocnoc-platform is web
          in: header
          name: x-nocnoc-session-id
          schema:
            type: string
        - description: x-nocnoc-device-id
          in: header
          name: x-nocnoc-device-id
          schema:
            type: string
        - description: x-nocnoc-id
          in: header
          name: x-nocnoc-id
          schema:
            type: string
        - description: accept-language
          in: header
          name: accept-language
          schema:
            type: string
      requestBody:
        description: create order request
        content:
          application/json:
            schema:
              type: object
              required:
                - quotationSignature
                - quotationData
                - payment
              properties:
                quotationSignature:
                  type: string
                  example: <hmac>
                quotationData:
                  type: string
                  example: <base64>
                isSmsEnabled:
                  type: boolean
                isTaxRequired:
                  type: boolean
                payment:
                  type: object
                  $ref: "#/components/schemas/payment"
                taxAddress:
                  type: object
                  $ref: "#/components/schemas/taxAddress"
                integrationParams:
                  type: object
                  $ref: "#/components/schemas/integrationParams"
      responses:
        "201":
          description: Created operation
          content:
            application/json:
              schema:
                type: object
                required: ["data"]
                properties:
                  data:
                    type: object
                    oneOf:
                      - $ref: "#/components/schemas/order"
              examples:
                PaymentTypeQR:
                  summary: paymentType = QR
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: "success"
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "QR"
                      authorizeUrl: ""
                      scannableCode: "xxxxxxxx"
                      transactionId: "zzzzzzzz"
                PaymentTypeCard:
                  summary: paymentType = Card
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: "success"
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "CARD"
                      authorizeUrl: "https://www.example.com"
                      scannableCode: ""
                      transactionId: "zzzzzzzz"
                PaymentTypeIPP:
                  summary: paymentType = IPP
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: "success"
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "IPP"
                      authorizeUrl: "https://www.example.com"
                      scannableCode: ""
                      transactionId: "zzzzzzzz" 
                CreatedButPaymentFailed:
                  summary: created but payment failed
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: ""
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "QR"
                      authorizeUrl: ""
                      scannableCode: ""
                      transactionId: "zzzzzzzz"
        "400":
          description: Invalid input
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ErrorUnmarshal:
                  summary: error unmarshal
                  value:
                    errors:
                      title: "error_unmarshal"
                      detail: "cannot unmarshal data"
                ErrorDecode64:
                  summary: error decode64
                  value:
                    errors:
                      title: "error_decode64"
                      detail: "decode64 data error"
                InvalidSignature:
                  summary: invalid signature
                  value:
                    errors:
                      title: "invalid_signature"
                      detail: "invalid signature"
                NotfoundAddress:
                  summary: not found address
                  value:
                    errors:
                      title: "notfound_address"
                      detail: "not found address"
                NotfoundProduct:
                  summary: not found product
                  value:
                    errors:
                      title: "notfound_product"
                      detail: "not found product"
                InvalidAllShipping:
                  summary: invalid all shipping
                  value:
                    errors:
                      title: "invalid_all_shipping"
                      detail: "all shipping not available"
                InvalidSomeShipping:
                  summary: invalid some shipping
                  value:
                    errors:
                      title: "invalid_some_shipping"
                      detail: "some shipping not available"
                OutOfStockProduct:
                  summary: out of stock product
                  value:
                    errors:
                      title: "out_of_stock_product"
                      detail: "product out of stock"
                InvalidSelectedDelivery:
                  summary: invalid selected delivery
                  value:
                    errors:
                      title: "invalid_selected_delivery"
                      detail: "invalid selected delivery"
                InvalidShippingCost:
                  summary: invalid shipping cost
                  value:
                    errors:
                      title: "invalid_shipping_cost"
                      detail: "invalid shipping cost"
                InvalidPrice:
                  summary: invalid price
                  value:
                    errors:
                      title: "invalid_price"
                      detail: "invalid price"
                InvalidPlatformPartnerCoupon:
                  summary: invalid platform partner coupon
                  value:
                    errors:
                      title: "invalid_platform_partner_coupon"
                      detail: "invalid platform partner coupon"
                InvalidShopCoupon:
                  summary: invalid shop coupon
                  value:
                    errors:
                      title: "invalid_shop_coupon"
                      detail: "invalid shop coupon"
                InvalidPoint:
                  summary: invalid point
                  value:
                    errors:
                      title: "invalid_point"
                      detail: "invalid point"
                InvalidSummary:
                  summary: invalid summary
                  value:
                    errors:
                      title: "invalid_summary"
                      detail: "invalid summary"
                InvalidCouponPayment:
                  summary: invalid coupon payment
                  value:
                    errors:
                      title: "invalid_coupon_payment"
                      detail: "invalid coupon payment"
                InvalidIpp:
                  summary: invalid ipp
                  value:
                    errors:
                      title: "invalid_ipp"
                      detail: "invalid ipp"
                InvalidIppPromotion:
                  summary: invalid ipp promotion
                  value:
                    errors:
                      title: "invalid_ipp_promotion"
                      detail: "invalid ipp promotion"
                ErrorGetUserInfo:
                  summary: error get user info
                  value:
                    errors:
                      title: "error_get_user_info"
                      detail: "error get user info"
                NotfoundUserInfo:
                  summary: not found user info
                  value:
                    errors:
                      title: "notfound_user_info"
                      detail: "not found user info"
        "401":
          description: Unauthorize
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ErrorGetPromotionDetail:
                  summary: error get promotion detail
                  value:
                    errors:
                      title: "error_get_promotion_detail"
                      detail: "error get promotion detail"
                ErrorBreakdownSaleOrder:
                  summary: error breakdown sale order
                  value:
                    errors:
                      title: "error_break_down_sale_order"
                      detail: "error break down sale order"
                ErrorGetNoncnocDiscountPoint:
                  summary: error get noncnoc discount point
                  value:
                    errors:
                      title: "error_get_noncnoc_discount_point"
                      detail: "error get noncnoc discount point"
                ErrorGetAddress:
                  summary: error get address
                  value:
                    errors:
                      title: "error_get_address"
                      detail: "error get address"
                ErrorProductRepository:
                  summary: error product repository
                  value:
                    errors:
                      title: "error_product_repository"
                      detail: "cannot get products by SKUs from repository"
                ErrorCouponPaymentValidate:
                  summary: error coupon payment validate
                  value:
                    errors:
                      title: "error_coupon_payment_validate"
                      detail: "error coupon payment validate"
                ErrorPromotionPartnershipValidate:
                  summary: error promotion partnership validate
                  value:
                    errors:
                      title: "error_promotion_partnership_validate"
                      detail: "error promotion partnership validate"
                ErrorIppAssignment:
                  summary: error ipp assignment
                  value:
                    errors:
                      title: "error_ipp_assignment"
                      detail: "error ipp assignment"
                ErrorCreateOrder:
                  summary: error create order
                  value:
                    errors:
                      title: "error_create_order"
                      detail: "error create order"
                CreateOrderUnsuccessful:
                  summary: create order unsuccessful
                  value:
                    errors:
                      title: "create_order_unsuccessful"
                      detail: "create order unsuccessful"
  /v1/admin/orders:
    post:
      summary: Admin Create order
      tags:
        - Admin Order
      parameters:
        - description: x-nocnoc-platform
          in: header
          name: x-nocnoc-platform
          schema:
            type: string
        - description: x-nocnoc-device-os
          in: header
          name: x-nocnoc-device-os
          schema:
            type: string
        - description: Not Required when x-nocnoc-platform is web
          in: header
          name: x-nocnoc-cookie-id
          schema:
            type: string
        - description: Not Required when x-nocnoc-platform is web
          in: header
          name: x-nocnoc-session-id
          schema:
            type: string
        - description: x-nocnoc-device-id
          in: header
          name: x-nocnoc-device-id
          schema:
            type: string
        - description: x-nocnoc-id
          in: header
          name: x-nocnoc-id
          schema:
            type: string
        - description: accept-language
          in: header
          name: accept-language
          schema:
            type: string
      requestBody:
        description: create order request
        content:
          application/json:
            schema:
              type: object
              required:
                - quotationSignature
                - quotationData
                - payment
                - buyerUserId
              properties:
                quotationSignature:
                  type: string
                  example: <hmac>
                quotationData:
                  type: string
                  example: <base64>
                isSmsEnabled:
                  type: boolean
                isTaxRequired:
                  type: boolean
                payment:
                  type: object
                  $ref: "#/components/schemas/payment"
                taxAddress:
                  type: object
                  $ref: "#/components/schemas/taxAddress"
                buyerUserId:
                  type: integer
                  example: 5678
      responses:
        "201":
          description: Created operation
          content:
            application/json:
              schema:
                type: object
                required: ["data"]
                properties:
                  data:
                    type: object
                    oneOf:
                      - $ref: "#/components/schemas/order"
              examples:
                PaymentTypeQR:
                  summary: paymentType = QR
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: "success"
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "QR"
                      authorizeUrl: ""
                      scannableCode: "xxxxxxxx"
                      transactionId: "zzzzzzzz"
                PaymentTypeCard:
                  summary: paymentType = Card
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: "success"
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "CARD"
                      authorizeUrl: "https://www.example.com"
                      scannableCode: ""
                      transactionId: "zzzzzzzz"
                PaymentTypeIPP:
                  summary: paymentType = IPP
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: "success"
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "IPP"
                      authorizeUrl: "https://www.example.com"
                      scannableCode: ""
                      transactionId: "zzzzzzzz" 
                CreatedButPaymentFailed:
                  summary: created but payment failed
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: ""
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "QR"
                      authorizeUrl: ""
                      scannableCode: ""
                      transactionId: "zzzzzzzz"
        "400":
          description: Invalid input
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ErrorUnmarshal:
                  summary: error unmarshal
                  value:
                    errors:
                      title: "error_unmarshal"
                      detail: "cannot unmarshal data"
                ErrorDecode64:
                  summary: error decode64
                  value:
                    errors:
                      title: "error_decode64"
                      detail: "decode64 data error"
                InvalidSignature:
                  summary: invalid signature
                  value:
                    errors:
                      title: "invalid_signature"
                      detail: "invalid signature"
                NotfoundAddress:
                  summary: not found address
                  value:
                    errors:
                      title: "notfound_address"
                      detail: "not found address"
                NotfoundProduct:
                  summary: not found product
                  value:
                    errors:
                      title: "notfound_product"
                      detail: "not found product"
                InvalidAllShipping:
                  summary: invalid all shipping
                  value:
                    errors:
                      title: "invalid_all_shipping"
                      detail: "all shipping not available"
                InvalidSomeShipping:
                  summary: invalid some shipping
                  value:
                    errors:
                      title: "invalid_some_shipping"
                      detail: "some shipping not available"
                OutOfStockProduct:
                  summary: out of stock product
                  value:
                    errors:
                      title: "out_of_stock_product"
                      detail: "product out of stock"
                InvalidSelectedDelivery:
                  summary: invalid selected delivery
                  value:
                    errors:
                      title: "invalid_selected_delivery"
                      detail: "invalid selected delivery"
                InvalidShippingCost:
                  summary: invalid shipping cost
                  value:
                    errors:
                      title: "invalid_shipping_cost"
                      detail: "invalid shipping cost"
                InvalidPrice:
                  summary: invalid price
                  value:
                    errors:
                      title: "invalid_price"
                      detail: "invalid price"
                InvalidPlatformPartnerCoupon:
                  summary: invalid platform partner coupon
                  value:
                    errors:
                      title: "invalid_platform_partner_coupon"
                      detail: "invalid platform partner coupon"
                InvalidShopCoupon:
                  summary: invalid shop coupon
                  value:
                    errors:
                      title: "invalid_shop_coupon"
                      detail: "invalid shop coupon"
                InvalidPoint:
                  summary: invalid point
                  value:
                    errors:
                      title: "invalid_point"
                      detail: "invalid point"
                InvalidSummary:
                  summary: invalid summary
                  value:
                    errors:
                      title: "invalid_summary"
                      detail: "invalid summary"
                InvalidCouponPayment:
                  summary: invalid coupon payment
                  value:
                    errors:
                      title: "invalid_coupon_payment"
                      detail: "invalid coupon payment"
                InvalidIpp:
                  summary: invalid ipp
                  value:
                    errors:
                      title: "invalid_ipp"
                      detail: "invalid ipp"
                InvalidIppPromotion:
                  summary: invalid ipp promotion
                  value:
                    errors:
                      title: "invalid_ipp_promotion"
                      detail: "invalid ipp promotion"
                ErrorGetUserInfo:
                  summary: error get user info
                  value:
                    errors:
                      title: "error_get_user_info"
                      detail: "error get user info"
                NotfoundUserInfo:
                  summary: not found user info
                  value:
                    errors:
                      title: "notfound_user_info"
                      detail: "not found user info"
        "401":
          description: Unauthorize
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ErrorGetPromotionDetail:
                  summary: error get promotion detail
                  value:
                    errors:
                      title: "error_get_promotion_detail"
                      detail: "error get promotion detail"
                ErrorBreakdownSaleOrder:
                  summary: error breakdown sale order
                  value:
                    errors:
                      title: "error_breakdown_sale_order"
                      detail: "error breakdown sale order"
                ErrorGetNoncnocDiscountPoint:
                  summary: error get noncnoc discount point
                  value:
                    errors:
                      title: "error_get_noncnoc_discount_point"
                      detail: "error get noncnoc discount point"
                ErrorGetAddress:
                  summary: error get address
                  value:
                    errors:
                      title: "error_get_address"
                      detail: "error get address"
                ErrorProductRepository:
                  summary: error product repository
                  value:
                    errors:
                      title: "error_product_repository"
                      detail: "cannot get products by SKUs from repository"
                ErrorCouponPaymentValidate:
                  summary: error coupon payment validate
                  value:
                    errors:
                      title: "error_coupon_payment_validate"
                      detail: "error coupon payment validate"
                ErrorPromotionPartnershipValidate:
                  summary: error promotion partnership validate
                  value:
                    errors:
                      title: "error_promotion_partnership_validate"
                      detail: "error promotion partnership validate"
                ErrorIppAssignment:
                  summary: error ipp assignment
                  value:
                    errors:
                      title: "error_ipp_assignment"
                      detail: "error ipp assignment"
                ErrorCreateOrder:
                  summary: error create order
                  value:
                    errors:
                      title: "error_create_order"
                      detail: "error create order"
                CreateOrderUnsuccessful:
                  summary: create order unsuccessful
                  value:
                    errors:
                      title: "create_order_unsuccessful"
                      detail: "create order unsuccessful"

components:
  schemas:
    baseQuotationRequest:
      type: object
      required:
        - quotationSignature
        - quotationData
      properties:
        quotationSignature:
          type: string
          example: hash HMAC
        quotationData:
          type: string
          example: BASE564
    baseQuotationResponse:
      type: object
      properties:
        data:
          type: object
          required:
            - quotation
            - quotationSignature
            - quotationData
          properties:
            quotationSignature:
              type: string
              example: hmac
            quotationData:
              type: string
              example: base64
            quotation:
              type: object
              $ref: "#/components/schemas/QuotationDetail"
            invalidProducts:
              type: array
              items:
                oneOf:
                  - $ref: "#/components/schemas/invalidProducts"
    coupons:
      type: object
      required: ["promotiomId", "type", "couponCode", "status"]
      properties:
        promotionId:
          type: number
          example: 1234
        couponCode:
          type: string
          example: "NN1234"
        limitApplies:
          type: integer
          example: 1
        type:
          type: string
          description: phase1 support only seller platform
          enum:
            - seller
            - platform
            - voucher
            - partner
        status:
          type: string
          enum:
            - VALID
            - NOTFOUND
            - FULLY_REDEEMED
            - ORDER_VALUE_NOT_REACH_MINIMUM
            - USER_NOT_MATCHED
            - USER_TYPE_NOT_REACH_CONDITION
            - ALREADY_REDEEMED
            - NOT_HAVE_ELIGIBLE_PROMOTION
            - PAYMENT_TYPE_NOT_REACH_CONDITION
    languageModel:
      type: object
      required: ["en"]
      properties:
        en:
          type: string
        th:
          type: string
    errorResponse:
      type: object
      properties:
        errors:
          type: array
          items:
            type: object
            required: ["title", "detail"]
            properties:
              title:
                type: string
              detail:
                type: string
    cartReponseModel:
      type: object
      properties:
        cartId:
          type: string
          description: userId or deviceId
          example: 7530
        totalItemCount:
          type: number
          example: 3
        sellers:
          type: array
          items:
            $ref: "#/components/schemas/cartSellerModel"
        unavailableProducts:
          type: array
          items:
            $ref: "#/components/schemas/UnavailableProduct"
    cartSellerModel:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: number
          example: 3530
        name:
          type: string
          example: tnk.seller
        logo:
          type: string
          example: "http://cdn.nocnoc.com"
        pageUrl:
          type: string
          example: "http://cdn.nocnoc.com"
        tags:
          type: array
          items:
            $ref: "#/components/schemas/SellerTag"
        analytics:
          $ref: "#/components/schemas/SellerAnalytics"
        products:
          type: array
          items:
            $ref: "#/components/schemas/cartProductModel"
        promotion:
          type: object
          properties:
            shopCoupon:
              $ref: "#/components/schemas/cartShopPromotionModel"
    SellerTag:
      type: object
      required:
        - key
        - name
      properties:
        key:
          type: string
          enum: [quality_shop,mall_official,mall_authorized]
          example: quality_shop
        name:
          type: string
          example: quality shop
    SellerAnalytics:
      type: object
      properties:
        sellerTag:
          type: array
          items:
            type: string
            enum: [preferred_seller,mall]
            example: ["mall"]
        sellerType:
          type: string
          enum: [authorized,official]
          example: official
        isPreferredSeller:
          type: boolean
          example: true
    ProductTag:
      type: object
      description: show in front of product title when feature show new product tag is on
      required:
        - key
        - name
      properties:
        key:
          type: string
          enum: [easy_e_receipt,otop_easy,best_price,nocnoc_choice,nocnoc_craft]
          example: easy_e_receipt
        name:
          type: string
          example: easy_e_receipt
    ProductAnalytics:
      type: object
      description: "show when feature show new product tag is on"
      properties:
        isFlashSale:
          type: boolean
          example: true
        productTag:
          type: array
          items:
            type: string
            description: "nocnoc_0%_installment กับ seller_0%_installment เป็นผ่อน 0% ใช้ tag UI เหมือนกัน, assembly/installation_required เฉพาะ PDP, free_shipping เฉพาะหน้า cart"
            enum: [easy_e_receipt,best_price,nocnoc_choice,nocnoc_craft,nocnoc_0%_installment,seller_0%_installment,seller_free_installation,assembly/installation_required,made_to_order,free_shipping,clearance,nocnoc_connect,tax_invoice]
            example: ["easy_e_receipt","nocnoc_0%_installment","seller_free_installation","made_to_order","tax_invoice"]
    ProductBadge:
      type: object
      required:
        - type
        - name
        - key
      properties:
        key:
          type: string
          enum: [clearance,custom-made,tax-invoice,installment,free-shipping,sample]
          example: installment
        name:
          type: string
          example: installment
        type:
          type: string
          enum: [fully-badge,badge,icon]
          example: badge
    ProductFlashSale:
      type: object
      properties:
        endDate:
          type: string
          description: iso8601 format
          format: date-time
          example: "2021-01-01T00:00:00Z"
    cartProductModel:
      type: object
      required:
        [
          "id",
          "skuNumber",
          "selected",
          "title",
          "price",
          "priceOriginal",
          "minQuantity",
          "quantity",
          "stock",
          "unit",
        ]
      properties:
        id:
          type: string
          example: "ggghh-dsad-sdfdsf"
        skuNumber:
          type: string
          example: "120123"
        selected:
          type: boolean
          example: true
        title:
          $ref: "#/components/schemas/languageModel"
        pageUrl:
          $ref: "#/components/schemas/languageModel"
        imageUrl:
          type: string
          example: "https://cdn.nocnoc.com"
        tags:
          type: array
          items:
            $ref: "#/components/schemas/ProductTag"
        analytics:
          $ref: "#/components/schemas/ProductAnalytics"
        badges:
          type: array
          items:
            $ref: "#/components/schemas/ProductBadge"
        flashSale:
          $ref: "#/components/schemas/ProductFlashSale"
        price:
          type: number
          format: double
          example: 123.45
        priceOriginal:
          type: number
          format: double
          example: 150.7
        currency:
          type: string
          example: ฿
          enum:
            - ฿
        cheaperFromAddCartDate:
          type: number
          format: double
          example: 50.5
        minQuantity:
          type: number
          example: 5
        quantity:
          type: number
          example: 10
        isFreeInstallation:
          type: boolean
          example: true
          description: detect from badge free-installation
        stock:
          type: number
          example: 999
        isCustomMade:
          type: boolean
          example: true
        collectionName:
          type: string
          example: white ,1
        categoryId:
          type: number
          example: 12245
        category:
          type: string
          example: Electronic Appliances
        subCategory:
          type: string
          example: Air Conditioners
        subSubCategory:
          type: string
          example: Air Conditioner
        unit:
          $ref: "#/components/schemas/languageModel"
        bundles:
          type: array
          items:
            $ref: "#/components/schemas/cartProductBundleModel"
    cartProductBundleModel:
      type: object
      required:
        [
          "id",
          "skuNumber",
          "selected",
          "parentId",
          "price",
          "minimumQuantity",
          "quantity",
          "stock",
        ]
      properties:
        id:
          type: object
          example: "ggghh-dsad-sdfdsf"
        skuNumber:
          type: string
          example: 120123
        selected:
          type: boolean
          example: true
        title:
          $ref: "#/components/schemas/languageModel"
        imageUrl:
          type: string
          example: "http://cdn.nocnoc.com"
        parentId:
          type: string
          example: 120124
        price:
          type: number
          format: double
          example: 1200.5
        priceOriginal:
          type: number
          format: double
          example: 1500.6
        currency:
          type: string
          example: ฿
        minimumQuantity:
          type: number
          example: 5
        quantity:
          type: number
          example: 10
        stock:
          type: number
          example: 9990
        collectionName:
          type: string
          example: white

    cartShopPromotionModel:
      type: object
      properties:
        discount:
          type: number
          format: double
          example: 5000.5
        items:
          type: array
          items:
            $ref: "#/components/schemas/cartPromotionItemModel"
    cartPromotionItemModel:
      type: object
      required:
        ["id", "title", "discount", "discountType", "startedAt", "endedAt"]
      properties:
        id:
          type: number
          example: 1245
        title:
          type: string
          example: summer sale
        promotionName:
          type: string
          example: summer sale
        couponCode:
          type: string
          example: "NN-12345"
        maxAllowedDiscount:
          type: number
          example: 5000
        discount:
          type: number
          format: double
          example: 5
        discountType:
          type: string
          example: PERCENT
          enum:
            - PERCENT
            - FLAT
        condition:
          type: string
          description: "TBC locale logic should in bff or be"
          example: "เมื่อช้อปครบ ฿3,000, ลดสูงสุด ฿1,500"
        description:
          type: string
          example: "คูปองนี้มีจำนวนจำกัด"
          description: field promotionDetails จาก promotion-service
        imageUrl:
          type: string
          example: "http://nocnoc.com"
        selected:
          type: boolean
          example: true
        startedAt:
          type: string
          example: "2024-04-01T12:00:00Z"
        endedAt:
          type: string
          example: "2024-04-01T12:00:00Z"
    QuotationDetail:
      type: object
      required:
        - quotationId
        - sellers
        - addressId
      properties:
        quotationId:
          type: string
          example: "MMDD-{{timestamp}}"
        addressId:
          type: number
          example: 15
        sellers:
          type: array
          items:
            $ref: "#/components/schemas/SellerDetail"
    SellerDetail:
      type: object
      required:
        - id
        - name
        - saleOrders
      properties:
        id:
          type: string
          example: 10
        name:
          type: string
          example: "nocnoc"
        logo:
          type: string
          example: "http://cdn.nocnoc.com"
        pageUrl:
          type: string
          example: "http://cdn.nocnoc.com"
        tags:
          type: array
          items:
            $ref: "#/components/schemas/SellerTag"
        analytics:
          $ref: "#/components/schemas/SellerAnalytics"
        # tags:
        #   type: array
        #   items:
        #     $ref: "#/components/schemas/TagDetail"
        promotion:
          type: object
          properties:
            shopPromotion:
              type: object
              properties:
                discount:
                  type: number
                  format: float
                  example: 125.51
        saleOrders:
          type: array
          items:
            $ref: "#/components/schemas/SaleOrderDetail"

    SaleOrderDetail:
      type: object
      required:
        - saleOrderRef
        - products
        - defaultDeliveryOption
        - deliveryOptions
      properties:
        saleOrderRef:
          type: string
          example: 1847C5D06DF-182AA283221-1668533823437
        products:
          type: array
          items:
            $ref: "#/components/schemas/ProductDetail"
        defaultDeliveryOption:
          type: object
          required:
            - carrierId
          properties:
            carrierId:
              type: number
              example: 12
        deliveryOptions:
          type: array
          items:
            $ref: "#/components/schemas/DeliveryOptionDetail"
    ProductDetail:
      type: object
      required:
        - skuNumber
        - price
        - priceOriginal
        - currency
      properties:
        skuNumber:
          type: string
          example: 120123
        title:
          type: object
          properties:
            en:
              type: string
            th:
              type: string
        pageUrl:
          type: object
          properties:
            en:
              type: string
            th:
              type: string
        imageUrl:
          type: string
          example: https://cdn.nocnoc.com
        tags:
          type: array
          items:
            $ref: "#/components/schemas/ProductTag"
        analytics:
          $ref: "#/components/schemas/ProductAnalytics"
        badges:
          type: array
          items:
            $ref: "#/components/schemas/ProductBadge"
        price:
          type: number
          example: 120.12
        priceOriginal:
          type: number
          example: 120.12
        currency:
          type: string
          example: ฿
        quantity:
          type: integer
          example: 10
        collectionName:
          type: string
          example: white ,1
        categoryId:
          type: number
          example: 12245
        category:
          type: string
          example: Electronic Appliances
        subCategory:
          type: string
          example: Air Conditioners
        subSubCategory:
          type: string
          example: Air Conditioner
    DeliveryOptionDetail:
      type: object
      required:
        - carrierId
        - carrierName
        - finalShippingCost
        - shippingCost
        - currency
        - title
        - description
        - minExpectedDeliveryTime
        - maxExpectedDeliveryTime
      properties:
        carrierId:
          type: integer
          example: 12
        carrierName:
          type: string
          example: Kerry
        minExpectedDeliveryTime:
          type: string
          format: date-time
        maxExpectedDeliveryTime:
          type: string
          format: date-time
        finalShippingCost:
          type: number
          example: 10
        shippingCost:
          type: number
          example: 50
        platformShippingDiscount:
          type: number
          example: 100
        sellerShippingDiscount:
          type: number
          example: 20
        optionType:
          type: string
          example: standardDelivery
        warehouseAddress:
          type: string
          example: "22 ซอยสามัคคี 3 ถนนประชาชื่น แขวง ท่าทราย เขตห้วยขวาง กรุงเทพมหานคร"
        carrierType:
          type: string
          example: standard
        currency:
          type: string
          example: ฿
    invalidProducts:
      type: array
      items:
        type: object
        properties:
          collectionName:
            type: string
            example: "Fall Collection"
          currency:
            type: string
            example: "฿"
          imageUrl:
            type: string
            example: "https://example.com/image.jpg"
          price:
            type: number
            format: float
            example: 49.99
          priceOriginal:
            type: number
            format: float
            example: 79.99
          quantity:
            type: integer
            example: 10
          sellerId:
            type: integer
            example: 1234
          skuNumber:
            type: string
            example: "SKU123456"
          title:
            type: object
            properties:
              en:
                type: string
                example: "Winter Jacket"
              th:
                type: string
                example: "แจ็คเก็ตฤดูหนาว"
          type:
            type: string
            enum: ["OUT_OF_STOCK", "UNAVAILABLE"]
            required:
              - skuNumber
              - quantity
              - sellerId
          categoryId:
            type: number
            example: 12245
          category:
            type: string
            example: Electronic Appliances
          subCategory:
            type: string
            example: Air Conditioners
          subSubCategory:
            type: string
            example: Air Conditioner

    UnavailableProduct:
      type: object
      properties:
        collectionName:
          type: string
          example: "Fall Collection"
        currency:
          type: string
          example: "USD"
        id:
          type: string
          example: "12345"
        imageUrl:
          type: string
          example: "https://example.com/image.jpg"
        price:
          type: number
          format: float
          example: 49.99
        priceOriginal:
          type: number
          format: float
          example: 79.99
        skuNumber:
          type: string
          example: "SKU123456"
        title:
          type: object
          properties:
            en:
              type: string
              example: "Winter Jacket"
            th:
              type: string
              example: "แจ็คเก็ตฤดูหนาว"
        type:
          type: string
          enum: [UNAVAILABLE, OUT_OF_STOCK]
        categoryId:
          type: number
          example: 12245
        category:
          type: string
          example: Electronic Appliances
        subCategory:
          type: string
          example: Air Conditioners
        subSubCategory:
          type: string
          example: Air Conditioner
    ippDescription:
      type: object
      properties:
        bankCode:
          type: string
          example: 123
        bankNameTh:
          type: string
          example: "บัตรกรุงไทย จำกัด(มหาชน)"
        bankNameEn:
          type: string
          example: Krungthai Card
        mdr:
          type: number
          example: 0
        isActive:
          type: boolean
        ippLists:
          type: array
          items:
            type: object
            properties:
              id:
                type: number
                example: 1
              term:
                type: number
                example: 4
              rate:
                type: number
                example: 0
              nocnocSub:
                type: boolean
              sellerSub:
                type: boolean
              title:
                type: string
                example: 4 เดือน
              minAmount:
                type: number
                example: 3000
    payment:
      required: ["paymentType", "currency"]
      type: object
      properties:
        cardId:
          type: string
        cardNumber:
          type: string
        currency:
          type: string
        ippTerm:
          type: integer
        paymentType:
          type: string
          example: "CARD | IPP | QR"
        redirectUrl:
          type: string
    taxAddress:
      type: object
      properties:
        addressLine1:
          type: string
        addressLine2:
          type: string
        branchCode:
          type: string
        districtName:
          type: string
        fullName:
          type: string
        phoneNo:
          type: string
        province:
          type: string
        subDistrictName:
          type: string
        taxId:
          type: string
        taxType:
          type: string
        zipCode:
          type: string
    integrationParams:
      type: object
      properties:
        fallback:
          type: string
        refId:
          type: string
        sourceTime:
          type: integer
        utmContent:
          type: string
        utmMedium:
          type: string
        utmSource:
          type: string
        utmTerm:
          type: string
    order:
      type: object
      properties:
        authorizeUrl:
          type: string
        expiresAt:
          type: string
        msg:
          type: string
        orderNo:
          type: string
        orderStatus:
          type: string
        paymentType:
          type: string
        scannableCode:
          type: string
        transactionId:
          type: string
  securitySchemes:
    bearer:
      type: http
      scheme: bearer
      bearerFormat: "JWT"

security:
  - bearer: []
